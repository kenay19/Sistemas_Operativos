
#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <unistd.h>
/* Variables Globales*/
/* Declaracion de Metodos*/
void menu();
void operacionUno(int,int);
void operacionDos(char*,char*);
void operacionTres();
void operacionCuatro();
void operacionCinco();
char* reverse(char *, int , int );
void swap(char *, char *); 
char * itoa(int value,char * str,int base);


int main() {
    menu();
    return 0;
}

void menu() { 
    char *continuar = "s";
    while (continuar == "S" || continuar == "s") {
        unsigned int opcion;
        printf("===========================================\n");
        printf("1. Sumador\n");
        printf("2. Operacion dos\n");
        printf("3. Operacion tres\n");
        printf("4. Operacion cuantro\n");
        printf("5. Operacion quinto\n");
        printf("Escoja una opcion: ");
        scanf("%ud",&opcion);
        if (opcion == 1) {
            unsigned int inicio;
            unsigned int finaly;
            printf("Inicio de la suma: ");
            scanf("%ud",&inicio);
            printf("Final de la suma: ");
            scanf("%ud",&finaly);
            operacionUno(inicio,finaly);
        }
        if (opcion == 2) {
            char  origen[1000];
            char destino[1000];
            printf("Archivo Origen: ");
            scanf("%s",origen);
            printf("Archivo Destino: ");
            scanf("%s",destino);
            operacionDos(origen,destino);

        }
        if (opcion == 3) {
            operacionTres();
        }
        if (opcion == 4) {
            operacionCuatro();
        }
        if (opcion == 5) {
            operacionCinco();
        }
        printf("Desea continuar con otra operacion (S/N) : ");
        scanf("%c",continuar);
    }
}

void operacionUno(int ninitial,int nfinal) {
    char str1[256];
    char str2[256];
    itoa(ninitial,str1,10);
    itoa(nfinal,str2,10);
    char* list[] = {str1,str2,NULL};
    unsigned int result = execvp("scrips_Examen/suma",list);
    printf("Resultado: %ud\n",result);
    exit(0);
}

void operacionDos(char* origen,char*destino) {
    printf("Antes del execute");
    char * list[] = {origen,destino,NULL};
    unsigned int result = execvp("scrips_Examen/copia",list);
    printf("Resultado: %ud\n",result);
    exit(0);
}

void operacionTres() {
    printf("Operacion Tres\n");
}

void operacionCuatro() {
    printf("Operacion Cuatro\n");
}
void operacionCinco() {
    printf("Operacion Cinco\n");
}



char* itoa(int value, char* buffer, int base)
{
    // entrada inválida
    if (base < 2 || base > 32) {
        return buffer;
    }
 
    // considera el valor absoluto del número
    int n = abs(value);
 
    int i = 0;
    while (n)
    {
        int r = n % base;
 
        if (r >= 10) {
            buffer[i++] = 65 + (r - 10);
        }
        else {
            buffer[i++] = 48 + r;
        }
 
        n = n / base;
    }
 
    // si el numero es 0
    if (i == 0) {
        buffer[i++] = '0';
    }
 
    // Si la base es 10 y el valor es negativo, la string resultante
    // va precedido de un signo menos (-)
    // Con cualquier otra base, el valor siempre se considera sin firmar
    if (value < 0 && base == 10) {
        buffer[i++] = '-';
    }
 
    buffer[i] = '\0'; // string de terminación nula
 
    // invertir la string y devolverla
    return reverse(buffer, 0, i - 1);
}
char* reverse(char *buffer, int i, int j)
{
    while (i < j) {
        swap(&buffer[i++], &buffer[j--]);
    }
 
    return buffer;
}
void swap(char *x, char *y) {
    char t = *x; *x = *y; *y = t;
}